import{S as e,U as t,V as n,X as a,Z as r,ac as o,W as l,Y as s,b as c,c as u,o as i,_ as p,a as d,l as f}from"./index.77640ec2.js";import{C as v}from"./index.6c3e5c13.js";import{B as y}from"./button.c608983d.js";import{F as h}from"./index.19193697.js";import{_ as m,J as x}from"./isEqual.2255c0fe.js";import{e as b,R as g,c as C,u as k,h as E}from"./vendor.ff3248b1.js";import"./CheckCircleFilled.93e437a8.js";var O=function(c){e(i,c);var u=t(i);function i(e){var t;n(this,i),(t=u.call(this,e)).handleChange=function(e){var n=t.props,r=n.disabled,o=n.onChange;r||("checked"in t.props||t.setState({checked:e.target.checked}),o&&o({target:a(a({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var r="checked"in e?e.checked:e.defaultChecked;return t.state={checked:r},t}return r(i,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.className,r=t.style,c=t.name,u=t.id,i=t.type,p=t.disabled,d=t.readOnly,f=t.tabIndex,v=t.onClick,y=t.onFocus,h=t.onBlur,m=t.onKeyDown,x=t.onKeyPress,C=t.onKeyUp,k=t.autoFocus,E=t.value,O=t.required,w=o(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),P=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),j=this.state.checked,N=b(n,a,(l(e={},"".concat(n,"-checked"),j),l(e,"".concat(n,"-disabled"),p),e));return g.createElement("span",{className:N,style:r},g.createElement("input",s({name:c,id:u,type:i,required:O,readOnly:d,disabled:p,tabIndex:f,className:"".concat(n,"-input"),checked:!!j,onClick:v,onFocus:y,onBlur:h,onKeyUp:C,onKeyDown:m,onKeyPress:x,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:E},P)),g.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?a(a({},t),{},{checked:e.checked}):null}}]),i}(C.exports.Component);O.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var w=C.exports.createContext(null),P=function(e,t){var n=e.defaultValue,a=e.children,r=e.options,o=void 0===r?[]:r,l=e.prefixCls,s=e.className,f=e.style,v=e.onChange,y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),h=C.exports.useContext(c),x=h.getPrefixCls,g=h.direction,k=C.exports.useState(y.value||n||[]),E=u(k,2),O=E[0],P=E[1],j=C.exports.useState([]),N=u(j,2),K=N[0],F=N[1];C.exports.useEffect((function(){"value"in y&&P(y.value||[])}),[y.value]);var I=function(){return o.map((function(e){return"string"==typeof e?{label:e,value:e}:e}))},V=x("checkbox",l),q="".concat(V,"-group"),D=i(y,["value","disabled"]);o&&o.length>0&&(a=I().map((function(e){return C.exports.createElement(S,{prefixCls:V,key:e.value.toString(),disabled:"disabled"in e?e.disabled:y.disabled,value:e.value,checked:-1!==O.indexOf(e.value),onChange:e.onChange,className:"".concat(q,"-item"),style:e.style},e.label)})));var A={toggleOption:function(e){var t=O.indexOf(e.value),n=m(O);-1===t?n.push(e.value):n.splice(t,1),"value"in y||P(n);var a=I();null==v||v(n.filter((function(e){return-1!==K.indexOf(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))},value:O,disabled:y.disabled,name:y.name,registerValue:function(e){F((function(t){return[].concat(m(t),[e])}))},cancelValue:function(e){F((function(t){return t.filter((function(t){return t!==e}))}))}},B=b(q,p({},"".concat(q,"-rtl"),"rtl"===g),s);return C.exports.createElement("div",d({className:B,style:f},D,{ref:t}),C.exports.createElement(w.Provider,{value:A},a))},j=C.exports.forwardRef(P),N=C.exports.memo(j),K=function(e,t){var n,a=e.prefixCls,r=e.className,o=e.children,l=e.indeterminate,s=void 0!==l&&l,u=e.style,i=e.onMouseEnter,v=e.onMouseLeave,y=e.skipGroup,h=void 0!==y&&y,m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),x=C.exports.useContext(c),g=x.getPrefixCls,k=x.direction,E=C.exports.useContext(w),P=C.exports.useRef(m.value);C.exports.useEffect((function(){null==E||E.registerValue(m.value),f("checked"in m||!!E||!("value"in m),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),C.exports.useEffect((function(){if(!h)return m.value!==P.current&&(null==E||E.cancelValue(P.current),null==E||E.registerValue(m.value)),function(){return null==E?void 0:E.cancelValue(m.value)}}),[m.value]);var j=g("checkbox",a),N=d({},m);E&&!h&&(N.onChange=function(){m.onChange&&m.onChange.apply(m,arguments),E.toggleOption&&E.toggleOption({label:o,value:m.value})},N.name=E.name,N.checked=-1!==E.value.indexOf(m.value),N.disabled=m.disabled||E.disabled);var K=b((p(n={},"".concat(j,"-wrapper"),!0),p(n,"".concat(j,"-rtl"),"rtl"===k),p(n,"".concat(j,"-wrapper-checked"),N.checked),p(n,"".concat(j,"-wrapper-disabled"),N.disabled),n),r),S=b(p({},"".concat(j,"-indeterminate"),s));return C.exports.createElement("label",{className:K,style:u,onMouseEnter:i,onMouseLeave:v},C.exports.createElement(O,d({},N,{prefixCls:j,className:S,ref:t})),void 0!==o&&C.exports.createElement("span",null,o))},S=C.exports.forwardRef(K);S.displayName="Checkbox";var F=S;function I(){const[e,t]=C.exports.useState(),[n,a]=C.exports.useState([]),r=k(),o=C.exports.useRef(window.tabsAction.getTabKey(r)),[l,s]=C.exports.useState(o.current===window.tabsAction.getTabKey());C.exports.useEffect((()=>{const e=window.tabsAction.listenActiveChange((e=>{s(o.current===e)}));return()=>e()}),[]);const c=()=>{E.push({pathname:"/result",state:n.includes("withState")?{state:"yes",text:e}:null,query:n.includes("withQuery")?{query:"yes",text:e||null}:{text:e||null}})};return g.createElement(v,{title:`Query [${l?"active":"inactive"}]`},g.createElement(h.Item,{labelCol:{xs:24},labelAlign:"left",label:"text",extra:g.createElement(g.Fragment,null,g.createElement(F.Group,{style:{marginTop:12},value:n,options:[{label:'with state (`{ state: "yes"}`)',value:"withState"},{label:'with query (`{ query: "yes"}`)',value:"withQuery"}],onChange:e=>{a(e)}}),g.createElement(y,{onClick:()=>{t("nice")}},"setText: nice"))},g.createElement(x,{value:e,onChange:e=>t(e.target.value),onPressEnter:()=>{c()}})),g.createElement(y,{type:"primary",onClick:()=>c()},"查询"))}F.Group=N,F.__ANT_CHECKBOX=!0;export default I;
